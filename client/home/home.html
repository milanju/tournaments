<template name="home">
  {{#if Template.subscriptionsReady}}
  {{else}}
    {{> loading}}
  {{/if}}
  <div class="row">
    <div class="col-xs-12">
      <div class="tournament-list">
        <div class="demo-card">
          <p>
            Welcome to the demo of this Tournament Platform.
            <br>
            Please log in with: (<span class="demo-admin-login">USER: admin, PASSWORD: admin</span>).
            <br>
            You may add tournaments and populate them with dummy accounts and sign
            up to tournaments yourself. Start the tournament to see the bracket generated.
            Manipulate the bracket by clicking the pencil within the match you wish to adjust.
            <br>
            Database resets every hour.
          </p>
        </div>
        {{#if isInRole 'admin'}}
          <p>
            <a href="/t/new" id="new-tournament-button" class="btn btn-primary">New Tournament</a>
          </p>
        {{/if}}
        <table class="table">
          <tr class="tournament-list-head">
            <th>
              Region
            </th>
            <th>
              Tournament Name
            </th>
            <th>
              Date
            </th>
          </tr>
          {{#each tournaments}}
            <tr class="tournament-list-row">
              <td>
                {{this.region}}
              </td>
              <td>
                <a href="/t/{{this._id}}">{{this.title}}</a>
              </td>
              <td>
                {{formatDate this.date 'lll'}}
              </td>
            </tr>
            <tr id="tournament-list-info-{{this._id}}" class="tournament-list-info">
              <td class="tournament-list-info-cell" colspan="2">
                <div class="info-{{this._id}} tournament-list-info-content">
                  12 participants signed up
                </div>
              </td>
              <td class="tournament-list-info-cell">
                <div class="info-{{this._id}} tournament-list-info-content">
                  start in 01:10:10:10
                </div>
              </td>
            </tr>
          {{/each}}
        </table>
      </div>
    </div>
  </div>
</template>
